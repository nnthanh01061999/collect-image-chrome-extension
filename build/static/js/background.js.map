{"version":3,"file":"static/js/background.js","mappings":"mBAEO,IAAKA,EAAgB,SAAhBA,GAAgB,OAAhBA,EAAgB,kBAAhBA,EAAgB,sCAAhBA,EAAgB,sCAAhBA,EAAgB,wBAAhBA,EAAgB,8BAAhBA,EAAgB,gDAAhBA,EAAgB,gCAAhBA,EAAgB,gCAAhBA,EAAgB,0CAAhBA,EAAgB,0CAAhBA,EAAgB,gDAAhBA,EAAgB,8CAAhBA,EAAgB,gDAAhBA,EAAgB,sCAAhBA,EAAgB,4BAAhBA,CAAgB,MCA5BC,OAAOC,QAAQC,YAAYC,aAAY,KACnCH,OAAOI,aAAaC,OAAO,CACvBC,GAAIP,EAAiBQ,WACrBC,MAAO,aACPC,SAAU,CAAC,WAGfT,OAAOI,aAAaC,OAAO,CACvBC,GAAIP,EAAiBW,eACrBF,MAAO,aACPC,SAAU,CAAC,SAGfT,OAAOI,aAAaC,OAAO,CACvBC,GAAIP,EAAiBY,eACrBH,MAAO,aACPC,SAAU,CAAC,WAGfT,OAAOI,aAAaC,OAAO,CACvBC,GAAIP,EAAiBa,oBACrBJ,MAAO,kBACPC,SAAU,CAAC,SAGfT,OAAOI,aAAaC,OAAO,CACvBC,GAAIP,EAAiBc,oBACrBL,MAAO,kBACPC,SAAU,CAAC,SAGfT,OAAOI,aAAaC,OAAO,CACvBC,GAAIP,EAAiBe,uBACrBN,MAAO,wBACPC,SAAU,CAAC,SAEfT,OAAOI,aAAaC,OAAO,CACvBC,GAAIP,EAAiBgB,sBACrBP,MAAO,oBACPC,SAAU,CAAC,SAEfT,OAAOI,aAAaC,OAAO,CACvBC,GAAIP,EAAiBiB,uBACrBR,MAAO,uBACPC,SAAU,CAAC,SAEfT,OAAOI,aAAaC,OAAO,CACvBC,GAAIP,EAAiBkB,kBACrBT,MAAO,gBACPC,SAAU,CAAC,SAEfT,OAAOI,aAAaC,OAAO,CACvBC,GAAIP,EAAiBmB,aACrBV,MAAO,WACPC,SAAU,CAAC,QACb,IAGNT,OAAOI,aAAae,UAAUhB,aAAY,CAACiB,EAAMC,KAC7C,MAAMf,EAAQ,OAAHe,QAAG,IAAHA,OAAG,EAAHA,EAAKf,GAEwC,IAADgB,EADlDhB,IACDc,EAAKG,aAAexB,EAAiBmB,aAazClB,OAAOwB,KAAKC,YAAYnB,EAAI,CACxBoB,KAAMN,EAAKG,WACXI,KAAMP,EAAKQ,SAdA,QAAXN,EAAAtB,OAAOwB,YAAI,IAAAF,GAAXA,EAAaO,kBACT,KACA,CAAEC,OAAQ,QACTC,IACG/B,OAAOwB,KAAKC,YAAYnB,EAAI,CACxBoB,KAAMN,EAAKG,WACXI,KAAMI,GACR,IAQZ,G","sources":["types/chrome.ts","chrome/background.ts"],"sourcesContent":["import { Image, Video } from '.';\n\nexport enum ChromeActionEnum {\n    'GET_DOM' = 'GET_DOM',\n    'SCROLL_INTO_IMAGE' = 'SCROLL_INTO_IMAGE',\n    'SCROLL_INTO_VIDEO' = 'SCROLL_INTO_VIDEO',\n    'VIEW_IMAGE' = 'VIEW_IMAGE',\n    'COLLECT_IMAGE' = 'COLLECT_IMAGE',\n    'CTX_MENU_COLLECT_IMAGE' = 'CTX_MENU_COLLECT_IMAGE',\n    'CTX_SHOW_VIDEO' = 'CTX_SHOW_VIDEO',\n    'CTX_MARK_IMAGE' = 'CTX_MARK_IMAGE',\n    'CTX_JUST_SHOW_VIDEO' = 'CTX_JUST_SHOW_VIDEO',\n    'CTX_JUST_SHOW_IMAGE' = 'CTX_JUST_SHOW_IMAGE',\n    'CTX_SHOW_IMAGE_MINIMAP' = 'CTX_SHOW_IMAGE_MINIMAP',\n    'CTX_SHOW_IMAGE_VIEWER' = 'CTX_SHOW_IMAGE_VIEWER',\n    'CTX_SHOW_CAROUSEL_VIEW' = 'CTX_SHOW_CAROUSEL_VIEW',\n    'CTX_CORNER_IFRAME' = 'CTX_CORNER_IFRAME',\n    'CTX_SNAPSHOT' = 'CTX_SNAPSHOT',\n}\n\nexport type ChromeMessage<T> = {\n    type: ChromeActionEnum;\n    data: T;\n};\n\nexport type ChromeResponse = {\n    images?: Image[];\n    videos?: Video[];\n};\n","import { ChromeActionEnum } from '@/types';\n\nchrome.runtime.onInstalled.addListener(() => {\n    chrome.contextMenus.create({\n        id: ChromeActionEnum.VIEW_IMAGE,\n        title: 'View image',\n        contexts: ['image'],\n    });\n\n    chrome.contextMenus.create({\n        id: ChromeActionEnum.CTX_SHOW_VIDEO,\n        title: 'Show Video',\n        contexts: ['all'],\n    });\n\n    chrome.contextMenus.create({\n        id: ChromeActionEnum.CTX_MARK_IMAGE,\n        title: 'Mark image',\n        contexts: ['image'],\n    });\n\n    chrome.contextMenus.create({\n        id: ChromeActionEnum.CTX_JUST_SHOW_VIDEO,\n        title: 'Just show video',\n        contexts: ['all'],\n    });\n\n    chrome.contextMenus.create({\n        id: ChromeActionEnum.CTX_JUST_SHOW_IMAGE,\n        title: 'Just show image',\n        contexts: ['all'],\n    });\n\n    chrome.contextMenus.create({\n        id: ChromeActionEnum.CTX_SHOW_IMAGE_MINIMAP,\n        title: 'Show minimap of image',\n        contexts: ['all'],\n    });\n    chrome.contextMenus.create({\n        id: ChromeActionEnum.CTX_SHOW_IMAGE_VIEWER,\n        title: 'Show image viewer',\n        contexts: ['all'],\n    });\n    chrome.contextMenus.create({\n        id: ChromeActionEnum.CTX_SHOW_CAROUSEL_VIEW,\n        title: 'Show carousel viewer',\n        contexts: ['all'],\n    });\n    chrome.contextMenus.create({\n        id: ChromeActionEnum.CTX_CORNER_IFRAME,\n        title: 'Corner iframe',\n        contexts: ['all'],\n    });\n    chrome.contextMenus.create({\n        id: ChromeActionEnum.CTX_SNAPSHOT,\n        title: 'Snapshot',\n        contexts: ['all'],\n    });\n});\n\nchrome.contextMenus.onClicked.addListener((info, tab) => {\n    const id = tab?.id;\n    if (!id) return;\n    if (info.menuItemId === ChromeActionEnum.CTX_SNAPSHOT) {\n        chrome.tabs?.captureVisibleTab(\n            null as any,\n            { format: 'png' },\n            (dataUrl) => {\n                chrome.tabs.sendMessage(id, {\n                    type: info.menuItemId,\n                    data: dataUrl,\n                });\n            },\n        );\n        return;\n    }\n    chrome.tabs.sendMessage(id, {\n        type: info.menuItemId,\n        data: info.srcUrl,\n    });\n});\n"],"names":["ChromeActionEnum","chrome","runtime","onInstalled","addListener","contextMenus","create","id","VIEW_IMAGE","title","contexts","CTX_SHOW_VIDEO","CTX_MARK_IMAGE","CTX_JUST_SHOW_VIDEO","CTX_JUST_SHOW_IMAGE","CTX_SHOW_IMAGE_MINIMAP","CTX_SHOW_IMAGE_VIEWER","CTX_SHOW_CAROUSEL_VIEW","CTX_CORNER_IFRAME","CTX_SNAPSHOT","onClicked","info","tab","_chrome$tabs","menuItemId","tabs","sendMessage","type","data","srcUrl","captureVisibleTab","format","dataUrl"],"sourceRoot":""}